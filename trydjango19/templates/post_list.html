{% extends "base.html" %}
{% block content %}
<div class="col-sm-6 col-sm-offset-3">
    {% if posts %}
        {% for post in posts %}
        <div class="row">
            <div class="col-sm-12">
                <div class="thumbnail">

                    <div class="caption">
                        <h3>
                            <a href='{{ post.get_absolute_url }}'>{{ post.title }}</a>
                            <small>{{ post.publish | timesince }} ago</small>
                        </h3>
                        {% if post.image %}
                            <img src="{{ post.image.url }}" alt="" class="img-responsive">
                        {% endif %}
                        {% if  post.user.get_full_name %}
                            <p>Author: {{ post.user.get_full_name }}</p>
                        {% endif %}
                        <p>{{ post.content | linebreaks | truncatewords:120 }}</p>
                        <p>
                            <a href="{{ post.get_absolute_url }}" class="btn btn-primary" role="button">View</a>
                            <!-- <a href="#" class="btn btn-default" role="button">Edit</a> -->
                        </p>
                    </div>
                </div>
            </div>
        <hr/>
        </div>
        {% endfor %}

        <div class="pagination">
            <span class="step-links">
                {% if posts.has_previous %}
                    <a href="?{{ page_request_var }}={{ posts.previois_page_number }}">previous</a>
                {% endif %}
            </span>

            <span class="current">
                Page {{ posts.number }} of {{ posts.paginator.num_pages }}
            </span>

            {% if posts.has_next %}
                <a href="?{{ page_request_var }}={{ posts.next_page_number }}">next</a>
            {% endif %}
        </div>
</div>

    {% else %}
        <h2>No posts available</h2>
    {% endif %}    
{% endblock content %}